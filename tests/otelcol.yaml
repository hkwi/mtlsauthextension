receivers:
  otlp:
    protocols:
      grpc:
        include_metadata: true
        endpoint: 0.0.0.0:4317
        auth:
          authenticator: mtlsauth
        tls:
          client_ca_file: certs/client_ca.pem
          cert_file: certs/server.pem
          key_file: certs/server-key.pem
      http:
        auth:
          authenticator: mtlsauth
        tls:
          client_ca_file: certs/client_ca.pem
          cert_file: certs/server.pem
          key_file: certs/server-key.pem
exporters:
  debug:
    verbosity: detailed
processors:
  vardumpprocessor:
extensions:
  mtlsauth:
    require_cert: true
service:
  extensions:
    - mtlsauth
  pipelines:
    logs:
      receivers: [otlp]
      exporters: [debug]
    traces:
      receivers: [otlp]
      processors: [vardumpprocessor]
      exporters: [debug]
  telemetry:
    logs:
      level: DEBUG
